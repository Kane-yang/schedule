
[TOC]

## 时间限制
Start、Num、BeginTime、EndTime
Total


## 摄像头接口
#### poll接口
```
localhost:18110/park/poll
参数
{
    "DeviceId": "4dfef5",
    "Code": "sfeijfi",
    "MsgId": 0
}
返回
{
    "code": 0,
    "data": [
        {
            "Type": 1,
            "MsgID": 0,
            "Data": "25132486-63556884"
        }
    ]
}
```
#### 添加进出门记录

## 停车场接口(管理中心)

#### 账号相关

##### 1. 获取验证码

    localhost:18110/park/get_phone_code
    参数
    {
		"Tel": "17764507394"
    }
    返回
    {
	    "code": 0,
	    "data": "发送短信成功"
	}

##### 2. 注册账号

    localhost:18110/park/register
    参数
    {
		"Password": "123456",
		"Tel": "17764507394",
		"Code": "8753"
	}
	返回
	{
	    "code": 0,
	    "msg": "注册成功"
	}

##### 3. 登陆账号

    localhost:18110/park/login
    参数
    {
		"Tel": "17764507394",
		"Password": "123456"
	}
	返回
	{
	    "code": 0,
	    "data": {
	        "msg": "登陆成功",
	        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmtpbmciLCJleHAiOjE1MzU1MzMzMDIsImp0aSI6IjMiLCJuYmYiOjE1Mjc3NTczMDIsInNpZCI6IjE1Mjc3NTczMDI1MzYwMjYwMDAifQ.TjtTXBPnRnV454SoizmIAYfCflG1bbMkWN6Kmr1fo0I"
	    }
	}
##### 4. 修改密码
	

    localhost:18110/park/change_password
    参数
    {
		"NewPassword": "12345678",
		"Tel": "17764507394",
		"Code": "1234"
	}
	返回
	{
	    "code": 0,
	    "data": {
	        "msg": "密码修改成功"
	    }
	}

##### 5. 1 验证原始手机号

    localhost:18110/park/check_origin_tel
    参数
    {
	
		"access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmtpbmciLCJleHAiOjE1MzU2MDE2NDcsImp0aSI6IjQiLCJuYmYiOjE1Mjc4MjU2NDcsInNpZCI6IjE1Mjc4MjU2NDcwMjQ2MDQwMDAifQ.BxPAHc62VkcPm3MANpF-MRg9l4nAgv3OWCuWpt1Ts3U",
		"Tel": "17764507394",
		"Code": "1234"
	}
	返回
	{
	    "code": 0,
	    "msg": "验证成功"
	}
    
##### 5. 2 修改手机号

    localhost:18110/park/change_tel
    参数
    {
		"access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmtpbmciLCJleHAiOjE1MzU2MDE2NDcsImp0aSI6IjQiLCJuYmYiOjE1Mjc4MjU2NDcsInNpZCI6IjE1Mjc4MjU2NDcwMjQ2MDQwMDAifQ.BxPAHc62VkcPm3MANpF-MRg9l4nAgv3OWCuWpt1Ts3U",
		"Tel": "17764507396",
		"Code": "1234"
	}
	返回
	{
	    "code": 0,
	    "data": {
	        "msg": "手机号绑定成功"
	    }
	}
	    

##### 6. 获取用户信息

    localhost:18110/park/get_user_info
    参数
    {
		"access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmtpbmciLCJleHAiOjE1MzU1MjQ4NjQsImp0aSI6IjMiLCJuYmYiOjE1Mjc3NDg4NjQsInNpZCI6IjE1Mjc3NDg4NjQ1NjY1NDIwMDAifQ.WGAL-7vE8XGn-UEaJwEz0LkgjyHXaKfkV33VtiFsJ04"
	}
	返回
	{
	    "code": 0,
	    "data": {
	        "userInfo": {
	            "Id": 3,
	            "Tel": "",
	            "Name": "",
	            "Sex": 0,
	            "Desc": "",
	            "UserName": "helomotor1",
	            "Password": "123456",
	            "Session": "",
	            "Icon": "",
	            "WxPayId": "",
	            "AliPayId": "",
	            "LoginTime": "2018-05-31 11:10:19",
	            "CreateTime": "2018-05-31 11:10:19"
	        }
	    }
	}


#### 停车场基础信息

##### 1.创建停车场

    localhost:18110/park/add_park
    参数
    {
        "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmtpbmciLCJleHAiOjE1Mzg5ODkyMjMsImp0aSI6IjQiLCJuYmYiOjE1MzEyMTMyMjMsInNpZCI6IjE1MzEyMTMyMjM3NTM4NDgwMDAifQ.1eEI3JpY4BiFyoJGQKZ9elavQ5_6V7L-t_Yex6-6kHo",
        "Name": "老王停车场",
        "Location": "3栋一单元",
        "Lng": 120.9999,
        "Lat": 2.0009,
        "Size": 190,
        "Desc": "hahahahhahahahahahh"
    }
	返回
	{
        "code": 0,
        "data": {
            "data": {
                "Id": 8,
                "UserId": 4,
                "Name": "老王停车场",
                "Location": "3栋一单元",
                "Lng": 120.9999,
                "Lat": 2.0009,
                "CreateTime": "2018-07-10 17:02:11",
                "Size": 190,
                "Desc": "hahahahhahahahahahh",
                "ChargeRuleId": 0
            },
            "msg": "添加成功"
        }
    }
    
##### 2.修改停车场
```
localhost:18110/park/update_park
参数
{
	"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmsiLCJleHAiOjE1NDAxNzMwMzYsImp0aSI6IjYiLCJuYmYiOjE1MzIzOTcwMzYsInNpZCI6IjE1MzIzOTcwMzYwODI4NzAwMDAifQ.uLMwNtvI3o5ArjXdffrBUqOWTS_EO7KrOmCoDblDXGo",
	"ParkId": 6,
	"Name": "老王停车场11111",
    "Location": "3栋一单元",
    "Lng": 120.9999,
    "Lat": 2.0009,
    "Size": 190,
    "Desc": "hahahahhahahahahahh"
}

返回
{
    "code": 0,
    "data": {
        "data": {
            "Id": 6,
            "Name": "老王停车场11111",
            "Location": "3栋一单元",
            "Lng": 120.9999,
            "Lat": 2.0009,
            "CreateTime": "2018-07-24 11:08:39",
            "Size": 190,
            "Desc": "hahahahhahahahahahh",
            "ChargeRuleId": 0,
            "FunctionIds": "",
            "Status": 0,
            "Level": 0
        },
        "msg": "修改成功"
    }
}
```
    
##### 3.删除停车场

    localhost:18110/park/delete_park
    参数
    {
          "access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmsiLCJleHAiOjE1Mzk3NjI1NDgsImp0aSI6IjYiLCJuYmYiOjE1MzE5ODY1NDgsInNpZCI6IjE1MzE5ODY1NDgwNTc2NzcwMDAifQ.hgak1LnWgnBcRKpLxR5nRf0J7YMOl7p68qMO7u3zsDY",
    	"park_id": "6"
    }
	返回
	{
        "code": 0,
        "data": {
            "msg": "删除成功"
        }
    }
    
##### 4.获取停车场列表

    localhost:18110/park/get_park_list_by_user_id
    参数
    {
        "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmtpbmciLCJleHAiOjE1Mzg5ODkyMjMsImp0aSI6IjQiLCJuYmYiOjE1MzEyMTMyMjMsInNpZCI6IjE1MzEyMTMyMjM3NTM4NDgwMDAifQ.1eEI3JpY4BiFyoJGQKZ9elavQ5_6V7L-t_Yex6-6kHo"
       
    }
	返回
	{
        "code": 0,
        "data": {
            "data": [
                {
                    "Id": 7,
                    "Name": "老王停车场",
                    "Location": "3栋一单元",
                    "Lng": 120.9999,
                    "Lat": 2.0009,
                    "CreateTime": "2018-06-01 17:15:41",
                    "Size": 190,
                    "Desc": "hahahahhahahahahahh",
                    "ChargeRuleId": 0,
                    "FunctionIds": "",
                    "Status": 0,
                    "Level": 0
                },
                {
                    "Id": 8,
                    "Name": "老王停车场",
                    "Location": "3栋一单元",
                    "Lng": 120.9999,
                    "Lat": 2.0009,
                    "CreateTime": "2018-07-10 17:02:11",
                    "Size": 190,
                    "Desc": "hahahahhahahahahahh",
                    "ChargeRuleId": 0,
                    "FunctionIds": "",
                    "Status": 0,
                    "Level": 0
                }
            ],
            "msg": "ok"
        }
	}

#### 停车场员工相关

##### 1.停车场绑定管理员  --[f]
	localhost:18110/park/park_bind_admin
 	参数
    {
        "access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmsiLCJleHAiOjE1Mzk3NjI1NDgsImp0aSI6IjYiLCJuYmYiOjE1MzE5ODY1NDgsInNpZCI6IjE1MzE5ODY1NDgwNTc2NzcwMDAifQ.hgak1LnWgnBcRKpLxR5nRf0J7YMOl7p68qMO7u3zsDY",
        "ParkId": 7,
        "Tel": "17764507394"
    }
	返回
	{
        "code": 0,
        "data": {
            "msg": "绑定成功"
        }
    }
##### 2.停车场解绑管理员  --[f]
```
localhost:18110/park/park_unbind_admin
参数
{
     "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmsiLCJleHAiOjE1NDAwODgyNzksImp0aSI6IjYiLCJuYmYiOjE1MzIzMTIyNzksInNpZCI6IjE1MzIzMTIyNzkyMTQ4ODExNjQifQ.ooZk79FbuYuDUk9QCxZvCU196A3IN223fXJa5SJJyYQ",
      "ParkId": 7,
      "Tel": "17764507393"
}
返回
{
    "code": 0,
    "data": {
        "msg": "解绑成功"
    }
}
```

##### 3.添加停车场人员  --[f]

    localhost:18110/park/add_park_user_info
    参数
    {
		"access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmtpbmciLCJleHAiOjE1MzU2MDE2NDcsImp0aSI6IjQiLCJuYmYiOjE1Mjc4MjU2NDcsInNpZCI6IjE1Mjc4MjU2NDcwMjQ2MDQwMDAifQ.BxPAHc62VkcPm3MANpF-MRg9l4nAgv3OWCuWpt1Ts3U",
		"ParkId": 6,
		"UserId": 6,
		"Level": 2
	}
	返回
	{
        "code": 0,
        "data": {
            "data": {
                "Id": 8,
                "ParkId": 6,
                "UserId": 6,
                "Level": 2,
                "CreateTime": "2018-07-24 10:09:13",
                "Status": 0
            },
            "msg": "添加成功"
        }
    }
##### 4.删除停车场人员  --[f]
```
localhost:18110/park/delete_park_user_info
参数
{
     "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmsiLCJleHAiOjE1NDAwODgyNzksImp0aSI6IjYiLCJuYmYiOjE1MzIzMTIyNzksInNpZCI6IjE1MzIzMTIyNzkyMTQ4ODExNjQifQ.ooZk79FbuYuDUk9QCxZvCU196A3IN223fXJa5SJJyYQ",
      "ParkId": 6,
      "UserId": 5
}
返回
{
    "code": 0,
    "data": {
        "msg": "删除成功"
    }
}
```

##### 5.获取停车场人员列表  --[f]
```
localhost:18110/park/get_park_user_list  
参数
{
     "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmsiLCJleHAiOjE1NDAwODgyNzksImp0aSI6IjYiLCJuYmYiOjE1MzIzMTIyNzksInNpZCI6IjE1MzIzMTIyNzkyMTQ4ODExNjQifQ.ooZk79FbuYuDUk9QCxZvCU196A3IN223fXJa5SJJyYQ",
      "ParkId": 6
}
返回
{
    "code": 0,
    "data": {
        "data": [
            {
                "Id": 5,
                "Tel": "17764507393",
                "Name": "",
                "Sex": 0,
                "Desc": "",
                "Password": "",
                "Session": "",
                "Icon": "",
                "WxPayId": "",
                "AliPayId": "",
                "LastLoginTime": "",
                "CreateTime": "",
                "Level": 1
            }
        ]
    }
}
```

##### 6.获取停车场工作人员通过手机号  --[f]
```
localhost:18110/park/get_user_by_tel
参数
{
	"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmsiLCJleHAiOjE1NDAxNzMwMzYsImp0aSI6IjYiLCJuYmYiOjE1MzIzOTcwMzYsInNpZCI6IjE1MzIzOTcwMzYwODI4NzAwMDAifQ.uLMwNtvI3o5ArjXdffrBUqOWTS_EO7KrOmCoDblDXGo",
	"Tel": "17764507394"
}
返回
{
    "code": 0,
    "data": {
        "data": {
            "Id": 6,
            "Tel": "17764507394",
            "Name": "",
            "Sex": 0,
            "Desc": "",
            "Password": "helomotor",
            "Session": "",
            "Icon": "",
            "WxPayId": "",
            "AliPayId": "",
            "LastLoginTime": "2018-07-12 15:38:26",
            "CreateTime": "2018-07-12 15:38:26",
            "Level": 0
        }
    }
}
```

#### 设备相关
##### 1.添加停车场设备信息  --[f]
```
    localhost:18110/park/add_device   
    参数
    {
        "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmsiLCJleHAiOjE1NDA3MDgwMzAsImp0aSI6IjYiLCJuYmYiOjE1MzI5MzIwMzAsInNpZCI6IjE1MzI5MzIwMzA0MDg0NzQwMDAifQ.OLm6eqZNH_oqvvY0K4oTJH5rWT3Iq5wlF1slOcrILAQ",
        "DeviceId": "4dfef5",
        "VerifyCode": "sfeijfi",
        "Type": 1,
        "DoorNo": "东门",
        "CameraType":1
    }
	返回
	{
        "code": 0,
        "data": {
            "data": {
                "Id": 5,
                "CreateTime": "2018-07-10 17:13:47",
                "CameraType": 1,
                "Type": 1,
                "DeviceId": "4dfef5",
                "DoorNo": "东门",
                "Status": 0,
                "Secret": "",
                "VerifyCode": "sfeijfi"
            },
            "msg": "添加成功"
        }
    }
```
##### 2.获取设备信息通过id  --[f]
```
	localhost:18110/park/get_device_by_id   
    参数
    {
		"access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmtpbmciLCJleHAiOjE1MzU2MDE2NDcsImp0aSI6IjQiLCJuYmYiOjE1Mjc4MjU2NDcsInNpZCI6IjE1Mjc4MjU2NDcwMjQ2MDQwMDAifQ.BxPAHc62VkcPm3MANpF-MRg9l4nAgv3OWCuWpt1Ts3U",
		"Id": 1
	}
```


##### 3.绑定设备到停车场   --[f]
```
	localhost:18110/park/bind_device_to_park  
     参数
    {
        "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmsiLCJleHAiOjE1NDA3MDgwMzAsImp0aSI6IjYiLCJuYmYiOjE1MzI5MzIwMzAsInNpZCI6IjE1MzI5MzIwMzA0MDg0NzQwMDAifQ.OLm6eqZNH_oqvvY0K4oTJH5rWT3Iq5wlF1slOcrILAQ",
        "ParkId": 6,
        "UserId": 1,
        "DeviceId": "4dfef5",
        "VerifyCode": "sfeijfi"
	}
```

##### 4.解绑设备  --[f]
```
	localhost:18110/park/unbind_device_to_park
    参数
    {
		"access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmtpbmciLCJleHAiOjE1MzU2MDE2NDcsImp0aSI6IjQiLCJuYmYiOjE1Mjc4MjU2NDcsInNpZCI6IjE1Mjc4MjU2NDcwMjQ2MDQwMDAifQ.BxPAHc62VkcPm3MANpF-MRg9l4nAgv3OWCuWpt1Ts3U",
		"ParkDeviceId": 1,
        "UserId": 1
	}
```

##### 5.通过park_id获取设备列表  --[f]
```
	localhost:18110/park/get_device_list_by_park_id
    参数
    {
		"access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmtpbmciLCJleHAiOjE1MzU2MDE2NDcsImp0aSI6IjQiLCJuYmYiOjE1Mjc4MjU2NDcsInNpZCI6IjE1Mjc4MjU2NDcwMjQ2MDQwMDAifQ.BxPAHc62VkcPm3MANpF-MRg9l4nAgv3OWCuWpt1Ts3U",
		"ParkId": 1
	}
```

## 停车场业务信息(客户端接口)

#### 车辆信息
##### 1.添加车辆信息

    localhost:18110/park/add_car
    参数
    {
		"CarNo": "浙A123456",
		"CustomerId": 1
	}
	返回
	{
        "code": 0,
        "msg": "绑定成功"
    }
    
##### 2.删除一条车辆信息
```
localhost:18110/park/delete_car
    参数
    {
		"CarNo": "浙A123456",
		"CustomerId": 1
	}
	返回
	{
        "code": 0,
        "msg": "解绑成功"
    }
```
#### 包月信息
##### 1.添加包月信息

    localhost:18110/park/add_payment
    参数
    {
		"CarId": 1,
		"ParkId": 1,
		"HowLong": 2,
		"PayType": 1,
		"PayAccount": "支付账号",
		"RealPrice": 1200,
		"TotalPrice": 1500,
		"Discounts": 300,
		"PayOrderId": "hoihoiuh"
	}
	返回
	{
        "code": 0,
        "data": {
            "data": {
                "Id": 17,
                "CarId": 1,
                "ParkId": 1,
                "Payment": 1,
                "HowLong": 2,
                "CreateTime": "2018-07-10 17:19:28",
                "StartTime": "2018-07-10 17:19:28",
                "ExpireTime": "2018-09-10 17:19:28",
                "PayType": 1,
                "PayAccount": "支付账号",
                "RealPrice": 1200,
                "TotalPrice": 1500,
                "Discounts": 300,
                "PayOrderId": "hoihoiuh"
            },
            "msg": "添加成功"
        }
    }
	
##### 2.获取包月信息列表
```
localhost:18110/park/get_payment_list
参数
{
	"access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJnYXRld2F5X3BhcmsiLCJleHAiOjE1NDAzNjQ3MzYsImp0aSI6IjYiLCJuYmYiOjE1MzI1ODg3MzYsInNpZCI6IjE1MzI1ODg3MzY3MzE0NDAwMDAifQ.kgzaQ6Q1rlgABWmfDdDN738x_ElK0RsXh-q4A0XLOqU",
    "ParkId": 1,
    "CarNo": "",
    "Start": 0,
    "Num": 10,
    "BeginTime": "",
    "EndTime": ""
}
返回
{
    "code": 0,
    "data": {
        "data": [
            {
                "Id": 2,
                "ParkId": 1,
                "Payment": 1,
                "HowLong": 1,
                "CreateTime": "2018-06-04 16:05:20",
                "StartTime": "2018-06-04 16:05:20",
                "ExpireTime": "2018-07-04 16:05:20",
                "PayType": 1,
                "PayAccount": "支付账号",
                "RealPrice": 0,
                "TotalPrice": 0,
                "Discounts": 0,
                "PayOrderId": "",
                "CarNo": "浙A12345"
            }
         ],
       "total": 1
    }
}
```


