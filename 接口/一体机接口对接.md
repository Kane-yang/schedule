### 一体机接口对接

#### ~~二维码~~

#### 出门单接口
- /v5/passcard/get_my_pass_card_list


##### 具体参数
1. /v5/passcard/get_my_pass_card_list

```
params
{
	sid     int
	status  int  出门单状态
}
```


#### 支付接口

二维码：terminal_create_pay_record
支付单详情：get_pay_record  （持续）


创建支付单：create_pay_record
一体机扫码支付：pay_pay_record



1. /v5/order/create_pay_record
2. terminal_create_pay_record

```
params:
{
	ptype:          // 支付类型  微信：312  支付宝：210 
	sid             // 店铺ID
	oid             // 订单ID
	price           // 应付金额
	user_fee        // 用户手续费
	desc            // 备注
} 



result
{
	Id               int     `orm:"auto;pk;"`
	OrderId          int     `json:",omitempty"`
	UserId           int     `column:"user_id"`
	ShopId           int     `column:"shop_id"`
	AccountId        int     `column:"account_id"`                 // 收款账户, 可能收到集团或单店
	ShopUserId       int     `column:"suser_id" json:",omitempty"` // 收银员Id
	PayOrderId       string  `json:",omitempty"`
	CreateTime       string  `json:",omitempty"` // 创建时间
	PayTime          string  `json:",omitempty"` // 支付时间
	Status           int     `json:",omitempty"` // 订单状态 0 待支付 1 已支付 2 取消
	Price            int64   `json:",omitempty"` // 用户支付订单金额
	ExUserFee        int64   // 用户超额手续费
	UserFeePrice     int64   // 用户超额金额
	UserFeeRatio     float64 // 用户超额费率
	PayPrice         int64   `json:",omitempty"` // 用户实际支付金额 (店铺收取手续费)
	WithdrawFeeRatio float64 `json:",omitempty"` // 每笔手续费
	WithdrawFee      int64   `json:",omitempty"` // 每笔手续费
	RealPrice        int64   // 到店金额
	ActPrice         int64   // 参与活动金额
	ActFeeRatio      float64 // 参与活动费率
	ActFee           int64   // 参与活动奖励金额
	TotalPrice       int64   // 总金额
	Refunds          int64   `json:",omitempty"` // 4S店每笔返佣金额
	PaidType         int     `json:",omitempty"` // 14：转账支付 10：信用支付
	BankType         string  `json:",omitempty"` // 银行卡类型, 微信支付有  信用卡/储蓄卡
	Desc             string  `json:",omitempty"` // 用户备注信息
}
```


3. /v5/order/pay_pay_record

```
params
{
	sid          int    //店铺id
	pr_id        int    //支付订单id
}



result 

{
	Id               int     `orm:"auto;pk;"`
	OrderId          int     `json:",omitempty"`
	UserId           int     `column:"user_id"`
	ShopId           int     `column:"shop_id"`
	AccountId        int     `column:"account_id"`                 // 收款账户, 可能收到集团或单店
	ShopUserId       int     `column:"suser_id" json:",omitempty"` // 收银员Id
	PayOrderId       string  `json:",omitempty"`
	CreateTime       string  `json:",omitempty"` // 创建时间
	PayTime          string  `json:",omitempty"` // 支付时间
	Status           int     `json:",omitempty"` // 订单状态 0 待支付 1 已支付 2 取消
	Price            int64   `json:",omitempty"` // 用户支付订单金额
	ExUserFee        int64   // 用户超额手续费
	UserFeePrice     int64   // 用户超额金额
	UserFeeRatio     float64 // 用户超额费率
	PayPrice         int64   `json:",omitempty"` // 用户实际支付金额 (店铺收取手续费)
	WithdrawFeeRatio float64 `json:",omitempty"` // 每笔手续费
	WithdrawFee      int64   `json:",omitempty"` // 每笔手续费
	RealPrice        int64   // 到店金额
	ActPrice         int64   // 参与活动金额
	ActFeeRatio      float64 // 参与活动费率
	ActFee           int64   // 参与活动奖励金额
	TotalPrice       int64   // 总金额
	Refunds          int64   `json:",omitempty"` // 4S店每笔返佣金额
	PaidType         int     `json:",omitempty"` // 14：转账支付 10：信用支付
	BankType         string  `json:",omitempty"` // 银行卡类型, 微信支付有  信用卡/储蓄卡
	Desc             string  `json:",omitempty"` // 用户备注信息
}
```



4. get_pay_record

```
params
{
	pr_id            int
	sip              int
}
```

